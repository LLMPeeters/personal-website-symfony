{% extends 'admin/base.html.twig' %}

{% block title %}Browse simple pages{% endblock %}

{% block main %}
	<h1>Browse all simple text pages</h1>

	<section>
		{% for page in pages %}
			<article>
				<h2>{{ page.identifier }}</h2>
				
				<section>
					{% for data in page.data %}
						<article>
							<h3>{{ data.title }}</h3>
							<p>{{ languageCode(data.supportedLanguage.countryCode) }}</p>
							
							<table class="table">
								<thead>
									<tr>
										<th scope="col">Name</th>
										<th scope="col">Data</th>
									</tr>
								</thead>
								
								<tbody>
									<tr>
										<td>Route</td>
										{% set hotlink = data.hotlink %}
										<td>{{ dump(hotlink.route) }}</td>
										{# <td>{{ data.hotlink.route }}</td> #}
									</tr>
									<tr>
										<td>Raw HTML</td>
										<td>
											<button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="raw-html-{{ data.id }}">
												View
											</button>
											
											<div class="modal fade" id="raw-html-{{ data.id }}" tabindex="-1" aria-labelledby="raw-html-label-{{ data.id }}" aria-hidden="true">
												<div class="modal-dialog">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title" id="raw-html-label-{{ data.id }}">HTML</h5>
															<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
														</div>
														<div class="modal-body">
															{{ data.rawHtml }}
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
														</div>
													</div>
												</div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</article>
					{% else %}
						<p class="alert alert-danger" role="alert">
							No page data found!
						</p>
					{% endfor %}
				</section>
			</article>
		{% else %}
			<p>None!</p>
		{% endfor %}
	</section>
{% endblock %}